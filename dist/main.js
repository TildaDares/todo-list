(()=>{"use strict";var e={207:(e,t,o)=>{o.d(t,{m:()=>v});const r=e=>{e.preventDefault();const t=function(e,t){const o=v();return o.push({name:e,description:t,lists:[]}),localStorage.setItem("allProjects",JSON.stringify(o)),{name:e,description:t}}(document.querySelector(".new-proj-name").value,document.querySelector(".new-proj-desc").value);y.addNewProjectToUI(t),$("#newProj").modal("hide")},n=()=>{if(!confirm("Are you sure you want to delete this project?"))return;const e=y.getActiveProject().projectIndex;let t=v();t.splice(e,1),localStorage.setItem("allProjects",JSON.stringify(t)),y.removeProjectFromUI()},a=()=>{const e=y.getActiveProject().activeProject.name,t=y.getActiveProject().activeProject.description;document.querySelector(".edit-proj-name").value=e,document.querySelector(".edit-proj-desc").value=t},c=e=>{e.preventDefault();const t=y.getActiveProject().projectIndex,o=y.getActiveProject().activeProjectElem;let r=v();r[t].name=document.querySelector(".edit-proj-name").value,r[t].description=document.querySelector(".edit-proj-desc").value,o.textContent=r[t].name,localStorage.setItem("allProjects",JSON.stringify(r)),o.click(),$("#editProj").modal("hide")},i=(()=>{const e=(e,t)=>{e&&(t.style.textDecoration="line-through",t.setAttribute("disabled","true"))},t=(e,t)=>{const n=document.createElement("form"),c=document.createElement("label"),i=document.createElement("input"),d=document.createElement("label"),l=document.createElement("textarea"),s=document.createElement("div");return i.className="form-control mb-2 edit-task-name",n.className="todo-form",n.id=`form${t}`,n.action="index.html",i.id=`name${t}`,i.value=e.name,i.maxlength="20",i.type="text",i.name="name",i.required="true",l.className="form-control mb-2 edit-task-desc",l.id=`description${t}`,l.value=e.description,l.maxlength="150",l.rows="3",l.name="description",c.textContent="Task Name",d.textContent="Task Description",s.className="form-row justify-content-between align-items-center",c.for=`name${t}`,d.for=`description${t}`,n.appendChild(c),n.appendChild(i),n.appendChild(d),n.appendChild(l),n.appendChild(s),n.appendChild(a()),s.appendChild(o(e.dueDate,t)),s.appendChild(r(e.priority,t)),n},o=(e,t)=>{const o=document.createElement("div"),r=document.createElement("label"),n=document.createElement("input");return o.className="col-auto my-1",r.for=`date${t}`,r.textContent="Due Date",n.className="form-control edit-task-date",n.id=`date${t}`,n.value=e,n.type="date",n.name="date",n.required="true",o.appendChild(r),o.appendChild(n),o},r=(e,t)=>{const o=document.createElement("div"),r=document.createElement("label"),a=document.createElement("select"),c=document.createElement("option"),i=document.createElement("option"),d=document.createElement("option"),l=document.createElement("option");return o.className="col-auto my-1",r.for=`priority${t}`,r.textContent="Priority Level",a.className="custom-select mr-sm-2 edit-task-pri",a.value=e,a.id=`priority${t}`,c.value="critical",c.textContent="Critical",i.textContent="High",i.value="high",d.textContent="Medium",d.value="medium",l.textContent="Low",l.value="low",o.appendChild(r),o.appendChild(a),a.appendChild(c),a.appendChild(i),a.appendChild(d),a.appendChild(l),n(a,e),o},n=(e,t)=>{for(let o=0;o<e.options.length;o++)e.options[o].value===t&&(e.options[o].selected="true")},a=()=>{const e=document.createElement("div"),t=document.createElement("button");return e.className="form-footer float-right mt-3",t.className="btn bg-purple text-white edit-task-submit submit",t.type="submit",t.textContent="Save",e.appendChild(t),e};return{createCard:(o,r)=>{const n=document.querySelector(".accordion"),a=document.createElement("div");a.className="card shadow mb-4",n.appendChild(a),a.appendChild(((t,o)=>{const r=document.createElement("div"),n=document.createElement("h2"),a=document.createElement("div"),c=document.createElement("input"),i=document.createElement("button"),d=document.createElement("button"),l=document.createElement("i");return r.className=`card-header shadow pt-0 ${t.priority} d-flex justify-content-between align-items-baseline`,n.className="mb-0 d-flex align-items-baseline",a.className="form-check mr-1",c.className="form-check-input position-static task-complete-checkbox",i.className="btn btn-block text-left px-0 w-auto task-title-btn",d.className="remove-btn task-del-btn",l.className="far fa-trash-alt",i.textContent=t.name,c.type="checkbox",c.id=`checkbox${o}`,c.checked=t.completed,d.id=`del${o}`,c.setAttribute="checkbox",r.id=`heading${o}`,i.type="button",i.setAttribute("data-toggle","collapse"),i.setAttribute("data-target",`#collapse${o}`),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-controls",`collapse${o}`),e(t.completed,i),a.appendChild(c),n.appendChild(a),n.appendChild(i),d.appendChild(l),r.appendChild(n),r.appendChild(d),r})(o,r)),a.appendChild(((e,o)=>{const r=document.createElement("div"),n=document.createElement("div");return r.className="collapse",n.className=`card-body ${e.priority}`,r.id=`collapse${o}`,r.setAttribute("data-parent","#accordionExample"),r.setAttribute("aria-labelledby",`heading${o}`),r.appendChild(n),n.appendChild(t(e,o)),r})(o,r)),(e=>{document.querySelector(`#checkbox${e}`).addEventListener("change",m),document.querySelector(`#form${e}`).addEventListener("submit",s),document.querySelector(`#del${e}`).addEventListener("click",l)})(r)},editTodoUI:(e,t)=>{e.querySelector(".edit-task-name").value=t.name,e.querySelector(".edit-task-desc").value=t.description,e.querySelector(".edit-task-date").value=t.dueDate,n(e.querySelector(".edit-task-pri"),t.priority);const o=e.parentNode.parentNode.previousElementSibling,r=o.querySelector(".task-title-btn");e.parentNode.className=`card-body ${t.priority}`,o.className=`card-header shadow pt-0 ${t.priority} d-flex justify-content-between align-items-baseline`,r.textContent=t.name}}})(),d=e=>{e.preventDefault();const t=document.querySelector(".new-task-name").value,o=document.querySelector(".new-task-desc").value,r=document.querySelector(".new-task-pri").value,n=document.querySelector(".new-task-date").value;$("#newTask").modal("hide");const a=v(),c=function(e,t,o,r,n){return{name:e,description:t,priority:o,dueDate:r,completed:!1}}(t,o,r,n),d=y.getActiveProject().projectIndex;a[d].lists.push(c),localStorage.setItem("allProjects",JSON.stringify(a)),i.createCard(c,v()[d].lists.length-1)},l=e=>{const t=p(e.target.parentNode.parentNode.parentNode),o=y.getActiveProject().projectIndex,r=v();r[o].lists.splice(t,1),localStorage.setItem("allProjects",JSON.stringify(r)),document.querySelector("#accordionExample").removeChild(e.target.parentNode.parentNode.parentNode)},s=e=>{e.preventDefault();const t=y.getActiveProject().projectIndex,o=p(e.target.parentNode.parentNode.parentNode),r=v(),n=r[t].lists[o];n.name=e.target.querySelector(".edit-task-name").value,n.description=e.target.querySelector(".edit-task-desc").value,n.dueDate=e.target.querySelector(".edit-task-date").value,n.priority=e.target.querySelector(".edit-task-pri").value,localStorage.setItem("allProjects",JSON.stringify(r)),i.editTodoUI(e.target,n)},m=e=>{const t=y.getActiveProject().projectIndex,o=p(e.target.parentNode.parentNode.parentNode.parentNode),r=v(),n=r[t].lists[o];n.completed=e.target.checked,u(n.completed,e.target.parentNode.nextElementSibling),localStorage.setItem("allProjects",JSON.stringify(r))},u=(e,t)=>{e?(t.style.textDecoration="line-through",t.setAttribute("disabled","true")):(t.style.textDecoration="none",t.removeAttribute("disabled"))},p=e=>{const t=document.querySelector("#accordionExample");return Array.from(t.children).indexOf(e)},h=(()=>{const e=document.querySelector("#edit-proj-form"),t=document.querySelector(".proj-del-btn"),o=document.querySelector("#new-task-form");return{addListeners:()=>{e.addEventListener("submit",c),t.addEventListener("click",n),o.addEventListener("submit",d)},removeListeners:()=>{e.removeEventListener("submit",c),t.removeEventListener("click",n),o.removeEventListener("submit",d)}}})(),y=(()=>{const e=document.querySelector(".hamitems");let t,o,r,n=document.querySelector(".proj-btns"),a=document.querySelector(".new-task-btn"),c=document.querySelector(".proj-name"),d=document.querySelector(".proj-desc");const l=t=>{e.firstElementChild&&s();let o=document.createElement("li"),r=document.createElement("button");return o.appendChild(r),e.append(o),r.className="remove-btn",r.textContent=t.name,r.addEventListener("click",m),r},s=()=>{let t=document.createElement("hr");t.className="solid",e.append(t)},m=e=>{o&&o.classList.remove("project-active"),r=u(e.target.parentNode),t=v()[r],o=e.target,e.target.classList.add("project-active"),n.style.display="block",a.style.display="block",c.textContent=t.name,d.textContent=t.description,document.querySelector(".accordion").innerHTML="",(()=>{for(let e=0;e<t.lists.length;e++)i.createCard(t.lists[e],e)})(),h.addListeners()},u=t=>Array.from(e.children).indexOf(t)/2;return{addAllProjectsToUI:()=>{let e=v();for(let t=0;t<e.length;t++)l(e[t])},addNewProjectToUI:e=>{l(e).click()},getActiveProject:()=>({projectIndex:r,activeProjectElem:o,activeProject:t}),removeProjectFromUI:()=>{let t=(()=>{let t;return o.parentNode.previousElementSibling?(e.removeChild(o.parentNode.previousElementSibling),t=o.parentNode.previousElementSibling):o.parentNode.nextElementSibling&&(e.removeChild(o.parentNode.nextElementSibling),t=o.parentNode.nextElementSibling),t})();n.style.display="none",a.style.display="none",e.removeChild(o.parentNode),document.querySelector(".accordion").innerHTML="",t?t.firstElementChild.click():(c.textContent="",d.textContent=""),h.removeListeners()}}})();function v(){return JSON.parse(localStorage.getItem("allProjects")||"[]")}window.onload=function(){if(!("hasRunCodeBefore"in localStorage)){let e=[{name:"Welcome",description:"Welcome to To-Doer",lists:[{name:"To-Doer is here to make your life easy and comfortable",description:"",priority:"critical selected",dueDate:"2021-01-14",completed:!1},{name:"To create a new project, click on the new project on the sidebar",description:"",priority:"medium",dueDate:"2021-01-14",completed:!1},{name:"Tasks cannot be created without an existing project",description:"",priority:"high",dueDate:"2021-01-14",completed:!1},{name:"To create a new task, create a new project or use an existing one. The new task button is on the navbar.",description:"",priority:"low",dueDate:"2021-01-14",completed:!1},{name:"Click the todo text to see more details about the task.",description:"Good job.",priority:"critical selected",dueDate:"2021-01-14",completed:!1},{name:"The colors at the bottom of each task represent priority.",description:"Red - Critical↵Orange - High↵Yellow - Medium↵Green - Low",priority:"high",dueDate:"2021-01-14",completed:!1},{name:"Click on the todo text to edit the task",description:"",priority:"high",dueDate:"2021-01-14",completed:!1},{name:"Enjoy To-Doer",description:"",priority:"high",dueDate:"2021-01-14",completed:!1}]}];localStorage.setItem("allProjects",JSON.stringify(e)),localStorage.setItem("hasRunCodeBefore",!0)}}(),function(){(function(){const e=document.querySelector("#hamburgers");e.addEventListener("change",(function(){const t=document.querySelector(".hamitems-div");e.checked?(t.classList.add("active"),t.classList.remove("hidden")):(t.classList.add("hidden"),t.classList.remove("active"))}))})(),document.querySelector("#new-proj-form").addEventListener("submit",r),$("#editProj").on("shown.bs.modal",a),y.addAllProjectsToUI();let e=document.querySelector(".hamitems").firstElementChild;e&&e.firstElementChild.click()}()}},t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o(207)})();